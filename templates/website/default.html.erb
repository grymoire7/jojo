<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="<%= seeker_name %> - Application for <%= company_name %>">
  <title><%= seeker_name %> | <%= company_name %><% if job_title %> - <%= job_title %><% end %></title>
  <style>
    :root {
      --primary-color: #2563eb;
      --primary-hover: #1d4ed8;
      --text-color: #1f2937;
      --text-light: #6b7280;
      --background: #ffffff;
      --background-alt: #f9fafb;
      --border-color: #e5e7eb;
      --max-width: 800px;
      --spacing-unit: 1rem;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
      line-height: 1.6;
      color: var(--text-color);
      background-color: var(--background);
      padding: 2rem 1rem;
    }

    .container {
      max-width: var(--max-width);
      margin: 0 auto;
    }

    /* Masthead Section */
    .masthead {
      text-align: center;
      padding: 3rem 0;
      border-bottom: 2px solid var(--border-color);
      margin-bottom: 3rem;
    }

    .masthead h1 {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--text-color);
      margin-bottom: 1rem;
      line-height: 1.2;
    }

    .masthead h4 {
      font-size: 1.25rem;
      font-weight: 400;
      color: var(--text-light);
      margin-bottom: 2rem;
    }

    .masthead-image {
      margin: 2rem auto;
      max-width: 200px;
    }

    .masthead-image img {
      width: 100%;
      height: auto;
      border-radius: 50%;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    /* Branding Statement Section */
    .branding {
      background-color: var(--background-alt);
      padding: 3rem 2rem;
      border-radius: 8px;
      margin-bottom: 3rem;
    }

    .branding p {
      font-size: 1.125rem;
      line-height: 1.8;
      color: var(--text-color);
      margin-bottom: 1.5rem;
    }

    .branding p:last-child {
      margin-bottom: 0;
    }

    /* CTA Section */
    .cta-section {
      text-align: center;
      padding: 3rem 0;
      margin-bottom: 3rem;
    }

    .cta-button {
      display: inline-block;
      background-color: var(--primary-color);
      color: white;
      padding: 1rem 2.5rem;
      font-size: 1.125rem;
      font-weight: 600;
      text-decoration: none;
      border-radius: 6px;
      transition: background-color 0.2s ease;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .cta-button:hover {
      background-color: var(--primary-hover);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15);
    }

    /* Projects Section */
    .projects {
      margin: 40px 0;
    }

    .project-list {
      display: grid;
      gap: 20px;
    }

    .project-card {
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 20px;
      background: white;
    }

    .project-card h3 {
      margin-top: 0;
      color: #2c3e50;
    }

    .project-meta {
      font-size: 0.9em;
      color: #666;
      margin: 10px 0;
    }

    .project-meta span {
      margin-right: 15px;
    }

    .project-links {
      margin-top: 15px;
    }

    .project-links a {
      display: inline-block;
      margin-right: 15px;
      color: #3498db;
      text-decoration: none;
    }

    .project-links a:hover {
      text-decoration: underline;
    }

    .project-image {
      width: 100%;
      max-width: 400px;
      height: auto;
      border-radius: 4px;
      margin-bottom: 15px;
    }

    /* Footer Section */
    .footer {
      border-top: 2px solid var(--border-color);
      padding-top: 2rem;
      text-align: center;
      color: var(--text-light);
    }

    .footer-links {
      margin-top: 1rem;
      display: flex;
      justify-content: center;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .footer-links a {
      color: var(--primary-color);
      text-decoration: none;
      font-weight: 500;
    }

    .footer-links a:hover {
      text-decoration: underline;
    }

    /* Responsive Design */
    @media (max-width: 640px) {
      body {
        padding: 1rem 0.5rem;
      }

      .masthead {
        padding: 2rem 0;
      }

      .masthead h1 {
        font-size: 1.875rem;
      }

      .masthead h4 {
        font-size: 1rem;
      }

      .branding {
        padding: 2rem 1.5rem;
      }

      .branding p {
        font-size: 1rem;
      }

      .cta-button {
        padding: 0.875rem 2rem;
        font-size: 1rem;
      }

      .footer-links {
        flex-direction: column;
        gap: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Masthead -->
    <header class="masthead">
      <h1>Am I a good match for <%= company_name %>?</h1>
      <h4><% if job_title %><%= job_title %> Candidate<% else %>Let's find out<% end %></h4>

      <% if has_branding_image %>
      <div class="masthead-image">
        <img src="<%= branding_image_path %>" alt="<%= seeker_name %>">
      </div>
      <% end %>
    </header>

    <!-- Branding Statement -->
    <section class="branding">
      <%= branding_statement.split("\n\n").map { |para| "<p>#{para}</p>" }.join("\n      ") %>
    </section>

    <!-- Call to Action -->
    <% if cta_link && !cta_link.strip.empty? %>
    <section class="cta-section">
      <a href="<%= cta_link %>" class="cta-button"><%= cta_text %></a>
    </section>
    <% end %>

    <!-- Projects Section -->
    <% if projects && !projects.empty? %>
    <section class="projects">
      <h2>Relevant Work</h2>
      <div class="project-list">
        <% projects.each do |project| %>
        <div class="project-card">
          <% if project[:image_url] %>
          <img src="<%= project[:image_url] %>" alt="<%= project[:title] %>" class="project-image">
          <% end %>
          <h3><%= project[:title] %></h3>
          <p><%= project[:description] %></p>
          <% if project[:context] || project[:year] %>
          <p class="project-meta">
            <% if project[:year] %><span><%= project[:year] %></span><% end %>
            <% if project[:context] %><span><%= project[:context] %></span><% end %>
          </p>
          <% end %>
          <% if project[:blog_post_url] || project[:github_url] || project[:live_url] %>
          <div class="project-links">
            <% if project[:blog_post_url] %><a href="<%= project[:blog_post_url] %>">Blog Post</a><% end %>
            <% if project[:github_url] %><a href="<%= project[:github_url] %>">GitHub</a><% end %>
            <% if project[:live_url] %><a href="<%= project[:live_url] %>">Live Demo</a><% end %>
          </div>
          <% end %>
        </div>
        <% end %>
      </div>
    </section>
    <% end %>

    <!-- Footer -->
    <footer class="footer">
      <p>Application materials for <%= company_name %></p>
      <div class="footer-links">
        <a href="<%= base_url %>/resume/<%= company_slug %>" target="_blank">View Resume</a>
        <a href="<%= base_url %>/cover-letter/<%= company_slug %>" target="_blank">View Cover Letter</a>
      </div>
    </footer>
  </div>
</body>
</html>
